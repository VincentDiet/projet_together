import{h as p,a as b,u as y,_ as C}from"./activityStore-dcda880c.js";import{S as q,u as T}from"./categoryStore-6b1a5a5c.js";import{m as r,o as i,e as n,a as t,t as l,g as w,b as u,u as $,F as m,h as f,c as g,s as L,w as Z}from"./app-bc478766.js";import"./ResponsiveNavLink-dda4ae60.js";const M={class:"flex-shrink-0 mr-3 w-56 max-w-sm rounded-xl overflow-hidden shadow-lg mb-4"},B={class:"relative"},S=["src"],k={class:"absolute top-3 left-3 bg-white py-1 px-2 rounded-lg"},A={class:"text-together-cyan-dark font-extrabold"},D=t("div",{class:"absolute top-3 right-3 bg-white rounded-full p-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-slate-900",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M5 21V5q0-.825.588-1.413T7 3h10q.825 0 1.413.588T19 5v16l-7-3l-7 3Zm2-3.05l5-2.15l5 2.15V5H7v12.95ZM7 5h10H7Z"})])],-1),V={class:"absolute bottom-3 font-bold right-3 text-white"},z={class:"capitalize"},I={class:"bg-together-blue py-4 px-3"},j={class:"text-white text-lg font-bold mb-2 truncate"},N={class:"flex items-center flex-row text-together-green font-bold mb-1"},F=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M12 12q.825 0 1.413-.588T14 10q0-.825-.588-1.413T12 8q-.825 0-1.413.588T10 10q0 .825.588 1.413T12 12Zm0 10q-4.025-3.425-6.012-6.362T4 10.2q0-3.75 2.413-5.975T12 2q3.175 0 5.588 2.225T20 10.2q0 2.5-1.988 5.438T12 22Z"})],-1),H={class:"flex items-center flex-row font-bold mb-1"},P=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M12 12q-1.65 0-2.825-1.175T8 8q0-1.65 1.175-2.825T12 4q1.65 0 2.825 1.175T16 8q0 1.65-1.175 2.825T12 12Zm-8 8v-2.8q0-.85.438-1.563T5.6 14.55q1.55-.775 3.15-1.163T12 13q1.65 0 3.25.388t3.15 1.162q.725.375 1.163 1.088T20 17.2V20H4Z"})],-1),E={class:"truncate block"},K={class:"flex ml-2 mb-1 items-center block"},O={class:"flex items-center flex-row font-bold mb-1"},R=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M4.5 6.375a4.125 4.125 0 1 1 8.25 0a4.125 4.125 0 0 1-8.25 0Zm9.75 2.25a3.375 3.375 0 1 1 6.75 0a3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63a13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122Zm15.75.003l-.001.144a2.25 2.25 0 0 1-.233.96a10.088 10.088 0 0 0 5.06-1.01a.75.75 0 0 0 .42-.643a4.875 4.875 0 0 0-6.957-4.611a8.586 8.586 0 0 1 1.71 5.157v.003Z"})],-1),G={class:"flex justify-center items-center"},J=["href"],Q={__name:"CardItem",props:{activity:Object},setup(e){const o=e,a=r(()=>{const s=p(o.activity.start_datetime);return s.locale("fr"),s.format("DD MMMM")}),c=r(()=>o.activity.images.length===0?"https://via.placeholder.com/400":o.activity.images[0].url),d=r(()=>{const s=o.activity.author.activities.flatMap(v=>v.participations.filter(h=>h.organizator_note).map(h=>h.organizator_note));return s.length?s.reduce((v,h)=>v+h)/s.length:0});return(s,_)=>(i(),n("li",M,[t("div",B,[t("img",{src:c.value,alt:"Image",class:"w-full h-32 object-cover"},null,8,S),t("div",k,[t("span",A,l(e.activity.category.name),1)]),D,t("div",V,[t("span",z,l(a.value),1)])]),t("div",I,[t("h2",j,l(e.activity.title),1),t("ul",null,[t("li",N,[F,w(" "+l(e.activity.city)+", "+l(e.activity.distance.toFixed(1))+" Km ",1)]),t("li",H,[P,t("span",E,l(e.activity.author.firstname+" "+e.activity.author.lastname),1),t("div",K,[u($(q),{rating:d.value,"star-size":15,"show-rating":!1},null,8,["rating"])])]),t("li",O,[R,w(" "+l(e.activity.participations.length)+"/"+l(e.activity.max_participants)+" Participants ",1)])]),t("div",G,[t("a",{href:s.route("activities.show",{id:e.activity.id}),class:"bg-together-green text-white font-bold rounded-full py-1.5 mt-3 px-8"}," Infos ",8,J)])])]))}},U={class:"flex overflow-x-auto scrollbar-none -mx-8 px-8 text-xs"},W=t("div",{class:"absolute -right-7 top-28 text-slate-900 bg-gray-50 p-1 rounded-full opacity-50"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M6.4 18L5 16.6L9.575 12L5 7.4L6.4 6l6 6l-6 6Zm6.6 0l-1.4-1.4l4.575-4.6L11.6 7.4L13 6l6 6l-6 6Z"})])],-1),x={__name:"CardList",props:{activities:Array},setup(e){return(o,a)=>(i(),n(m,null,[t("ul",U,[(i(!0),n(m,null,f(e.activities,c=>(i(),g(Q,{key:c.id,activity:c},null,8,["activity"]))),128))]),W],64))}},X={class:"flex-shrink-0 w-16 mr-3"},Y={href:"#",class:"rounded-full shadow-lg bg-slate-900"},tt=["src"],et={class:"text-center mt-2"},st={__name:"CategoryItem",props:{id:Number,name:String,photo:String},setup(e){return(o,a)=>(i(),n("li",X,[t("a",Y,[t("img",{src:e.photo,alt:"Image 1",class:"rounded-full shadow-lg"},null,8,tt)]),t("p",et,l(e.name),1)]))}},ot={class:"relative"},at={class:"flex overflow-x-auto scrollbar-none -mx-8 px-8 text-xs"},lt=t("div",{class:"absolute -right-7 top-2 text-slate-900 bg-gray-50 p-1 rounded-full opacity-50"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M6.4 18L5 16.6L9.575 12L5 7.4L6.4 6l6 6l-6 6Zm6.6 0l-1.4-1.4l4.575-4.6L11.6 7.4L13 6l6 6l-6 6Z"})])],-1),it={__name:"CategoryList",setup(e){const o=T();o.fetchCategories();const a=r(()=>o.categories);return(c,d)=>(i(),n("section",ot,[t("ul",at,[(i(!0),n(m,null,f(a.value,s=>(i(),g(st,{key:s.id,name:s.name,photo:s.photo},null,8,["name","photo"]))),128))]),lt]))}},ct=t("h1",{class:"text-4xl font-extrabold"},"Together",-1),rt=t("section",{class:"flex justify-between items-center my-2"},[t("div",{class:"relative my-8 w-3/4"},[t("input",{type:"text",placeholder:"Chercher des activités",class:"pl-8 pr-4 py-1 w-full rounded-xl bg-together-blue text-slate-300 border-0 outline-none font-bold placeholder-together-cyan-light"}),t("div",{class:"absolute inset-y-0 left-0 pl-2 flex items-center pointer-events-none"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-slate-300",viewBox:"0 0 1024 1024"},[t("path",{fill:"currentColor",d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1c-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"})]),t("div",{class:"flex items-center"})])]),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M14 13v7h-4v-7L2.95 4h18.1L14 13Z"})]),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"m15 21l-6-2.1l-4.65 1.8q-.5.2-.925-.113T3 19.75v-14q0-.325.188-.575T3.7 4.8L9 3l6 2.1l4.65-1.8q.5-.2.925.113T21 4.25v14q0 .325-.188.575t-.512.375L15 21Zm-1-2.45V6.85l-4-1.4v11.7l4 1.4Z"})])],-1),nt={class:"mt-12 h-96"},ht=t("h2",{class:"mb-6 font-bold text-lg"},"Activités à proximité",-1),dt={class:"relative"},ut={class:"my-12 h-96"},vt=t("h2",{class:"mb-6 font-bold text-lg"},"Prochaines activités",-1),mt={class:"relative"},ft={__name:"Dashboard",setup(e){const o=b(),a=y();L(async()=>{await o.fetchCoords(),await a.fetchActivities()});const c=r(()=>a.getActivitiesSortedByDistance()),d=r(()=>a.getActivitiesSortedByDate());return(s,_)=>(i(),g(C,{title:"Dashboard",class:"bg-gradient-to-b from-together-cyan-light to-together-cyan-dark"},{default:Z(()=>[ct,rt,u(it),t("section",nt,[ht,t("div",dt,[u(x,{activities:c.value},null,8,["activities"])])]),t("section",ut,[vt,t("div",mt,[u(x,{activities:d.value},null,8,["activities"])])])]),_:1}))}};export{ft as default};
