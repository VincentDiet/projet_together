import{h as p,a as b,u as y,_ as C}from"./activityStore-0c131dd7.js";import{S as L,u as $,L as q}from"./Loader-1bc2a685.js";import{m as n,o as a,e as r,a as t,t as i,g as f,b as d,u as T,F as v,h as x,c as g,d as Z,s as M,w as B,f as k}from"./app-44b725da.js";import"./ResponsiveNavLink-01d61fc7.js";import"./_plugin-vue_export-helper-c27b6911.js";const S={class:"flex-shrink-0 mr-3 w-56 max-w-sm rounded-xl overflow-hidden shadow-lg mb-4"},A={class:"relative"},D=["src"],V={class:"absolute top-3 left-3 bg-white py-1 px-2 rounded-lg"},z={class:"text-together-cyan-dark font-extrabold"},I=t("div",{class:"absolute top-3 right-3 bg-white rounded-full p-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-slate-900",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M5 21V5q0-.825.588-1.413T7 3h10q.825 0 1.413.588T19 5v16l-7-3l-7 3Zm2-3.05l5-2.15l5 2.15V5H7v12.95ZM7 5h10H7Z"})])],-1),j={class:"absolute bottom-3 font-bold right-3 text-white"},N={class:"capitalize"},F={class:"bg-together-blue py-4 px-3"},H={class:"text-white text-lg font-bold mb-2 truncate"},P={class:"flex items-center flex-row text-together-green font-bold mb-1"},E=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M12 12q.825 0 1.413-.588T14 10q0-.825-.588-1.413T12 8q-.825 0-1.413.588T10 10q0 .825.588 1.413T12 12Zm0 10q-4.025-3.425-6.012-6.362T4 10.2q0-3.75 2.413-5.975T12 2q3.175 0 5.588 2.225T20 10.2q0 2.5-1.988 5.438T12 22Z"})],-1),K={class:"flex items-center flex-row font-bold mb-1"},O=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M12 12q-1.65 0-2.825-1.175T8 8q0-1.65 1.175-2.825T12 4q1.65 0 2.825 1.175T16 8q0 1.65-1.175 2.825T12 12Zm-8 8v-2.8q0-.85.438-1.563T5.6 14.55q1.55-.775 3.15-1.163T12 13q1.65 0 3.25.388t3.15 1.162q.725.375 1.163 1.088T20 17.2V20H4Z"})],-1),R={class:"truncate block"},G={class:"flex ml-2 mb-1 items-center block"},J={class:"flex items-center flex-row font-bold mb-1"},Q=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M4.5 6.375a4.125 4.125 0 1 1 8.25 0a4.125 4.125 0 0 1-8.25 0Zm9.75 2.25a3.375 3.375 0 1 1 6.75 0a3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63a13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122Zm15.75.003l-.001.144a2.25 2.25 0 0 1-.233.96a10.088 10.088 0 0 0 5.06-1.01a.75.75 0 0 0 .42-.643a4.875 4.875 0 0 0-6.957-4.611a8.586 8.586 0 0 1 1.71 5.157v.003Z"})],-1),U={class:"flex justify-center items-center"},W=["href"],X={__name:"CardItem",props:{activity:Object},setup(e){const o=e,l=n(()=>{const s=p(o.activity.start_datetime);return s.locale("fr"),s.format("DD MMMM")}),c=n(()=>o.activity.images.length===0?"https://via.placeholder.com/400":o.activity.images[0].url),u=n(()=>{const s=o.activity.author.activities.flatMap(m=>m.participations.filter(h=>h.organizator_note).map(h=>h.organizator_note));return s.length?s.reduce((m,h)=>m+h)/s.length:0});return(s,_)=>(a(),r("li",S,[t("div",A,[t("img",{src:c.value,alt:"Image",class:"w-full h-32 object-cover"},null,8,D),t("div",V,[t("span",z,i(e.activity.category.name),1)]),I,t("div",j,[t("span",N,i(l.value),1)])]),t("div",F,[t("h2",H,i(e.activity.title),1),t("ul",null,[t("li",P,[E,f(" "+i(e.activity.city)+", "+i(e.activity.distance.toFixed(1))+" Km ",1)]),t("li",K,[O,t("span",R,i(e.activity.author.firstname+" "+e.activity.author.lastname),1),t("div",G,[d(T(L),{rating:u.value,"star-size":15,"show-rating":!1},null,8,["rating"])])]),t("li",J,[Q,f(" "+i(e.activity.participations.length)+"/"+i(e.activity.max_participants)+" Participants ",1)])]),t("div",U,[t("a",{href:s.route("activities.show",{id:e.activity.id}),class:"bg-together-green text-white font-bold rounded-full py-1.5 mt-3 px-8"}," Infos ",8,W)])])]))}},Y={class:"flex overflow-x-auto scrollbar-none -mx-8 px-8 text-xs"},tt=t("div",{class:"absolute -right-7 top-28 text-slate-900 bg-gray-50 p-1 rounded-full opacity-50"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M6.4 18L5 16.6L9.575 12L5 7.4L6.4 6l6 6l-6 6Zm6.6 0l-1.4-1.4l4.575-4.6L11.6 7.4L13 6l6 6l-6 6Z"})])],-1),w={__name:"CardList",props:{activities:Array},setup(e){return(o,l)=>(a(),r(v,null,[t("ul",Y,[(a(!0),r(v,null,x(e.activities,c=>(a(),g(X,{key:c.id,activity:c},null,8,["activity"]))),128))]),tt],64))}},et={class:"flex-shrink-0 w-16 mr-3"},st={href:"#",class:"rounded-full shadow-lg bg-slate-900"},ot=["src"],at={class:"text-center mt-2"},lt={__name:"CategoryItem",props:{id:Number,name:String,photo:String},setup(e){return(o,l)=>(a(),r("li",et,[t("a",st,[t("img",{src:e.photo,alt:"Image 1",class:"rounded-full shadow-lg"},null,8,ot)]),t("p",at,i(e.name),1)]))}},it={class:"relative"},ct={class:"flex overflow-x-auto scrollbar-none -mx-8 px-8 text-xs"},rt=t("div",{class:"absolute -right-7 top-2 text-slate-900 bg-gray-50 p-1 rounded-full opacity-50"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M6.4 18L5 16.6L9.575 12L5 7.4L6.4 6l6 6l-6 6Zm6.6 0l-1.4-1.4l4.575-4.6L11.6 7.4L13 6l6 6l-6 6Z"})])],-1),nt={__name:"CategoryList",setup(e){const o=$();o.fetchCategories();const l=n(()=>o.categories);return(c,u)=>(a(),r("section",it,[t("ul",ct,[(a(!0),r(v,null,x(l.value,s=>(a(),g(lt,{key:s.id,name:s.name,photo:s.photo},null,8,["name","photo"]))),128))]),rt]))}},ht={key:0,class:"fixed w-full h-screen flex items-center justify-center top-0 left-0 right-0 bottom-0 bg-gradient-to-b from-together-cyan-light to-together-cyan-dark z-50"},dt=t("h1",{class:"text-4xl font-extrabold"},"Together",-1),ut=t("section",{class:"flex justify-between items-center my-2"},[t("div",{class:"relative my-8 w-3/4"},[t("input",{type:"text",placeholder:"Chercher des activités",class:"pl-8 pr-4 py-1 w-full rounded-xl bg-together-blue text-slate-300 border-0 outline-none font-bold placeholder-together-cyan-light"}),t("div",{class:"absolute inset-y-0 left-0 pl-2 flex items-center pointer-events-none"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-slate-300",viewBox:"0 0 1024 1024"},[t("path",{fill:"currentColor",d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1c-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"})]),t("div",{class:"flex items-center"})])]),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M14 13v7h-4v-7L2.95 4h18.1L14 13Z"})]),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"m15 21l-6-2.1l-4.65 1.8q-.5.2-.925-.113T3 19.75v-14q0-.325.188-.575T3.7 4.8L9 3l6 2.1l4.65-1.8q.5-.2.925.113T21 4.25v14q0 .325-.188.575t-.512.375L15 21Zm-1-2.45V6.85l-4-1.4v11.7l4 1.4Z"})])],-1),mt={class:"mt-12 h-96"},vt=t("h2",{class:"mb-6 font-bold text-lg"},"Activités à proximité",-1),gt={class:"relative"},_t={class:"my-12 h-96"},ft=t("h2",{class:"mb-6 font-bold text-lg"},"Prochaines activités",-1),wt={class:"relative"},Lt={__name:"Dashboard",setup(e){const o=b(),l=y(),c=Z(!0);M(async()=>{await o.fetchCoords(),await l.fetchActivities(),c.value=!1});const u=n(()=>l.getActivitiesSortedByDistance()),s=n(()=>l.getActivitiesSortedByDate());return(_,m)=>(a(),g(C,{title:"Dashboard",class:"bg-gradient-to-b from-together-cyan-light to-together-cyan-dark"},{default:B(()=>[c.value?(a(),r("div",ht,[d(q)])):k("",!0),dt,ut,d(nt),t("section",mt,[vt,t("div",gt,[d(w,{activities:u.value},null,8,["activities"])])]),t("section",_t,[ft,t("div",wt,[d(w,{activities:s.value},null,8,["activities"])])])]),_:1}))}};export{Lt as default};
